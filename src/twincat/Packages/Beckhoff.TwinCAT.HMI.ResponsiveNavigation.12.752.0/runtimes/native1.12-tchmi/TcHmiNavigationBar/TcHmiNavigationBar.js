var TcHmi,__classPrivateFieldGet=this&&this.__classPrivateFieldGet||function(receiver,state,kind,f){if("a"===kind&&!f)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof state?receiver!==state||!f:!state.has(receiver))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===kind?f:"a"===kind?f.call(receiver):f?f.value:state.get(receiver)};!function(TcHmi){let Controls;!function(Controls){let ResponsiveNavigation;!function(ResponsiveNavigation){var _a,_TcHmiNavigationBar_tchmiFQN;class TcHmiNavigationBar extends TcHmi.Controls.System.TcHmiControl{constructor(element,pcElement,attrs){super(element,pcElement,attrs),this.__menuOpen=!1,this.__mobileMode=null,this.__desktopView=null,this.__showMenuEvents="click",this.__destroyOnResizedListener=null,this.__menuSourceData=void 0,this.__menuSourceDataRaw=void 0,this.__lastcalledParameter=null,this.__lastCalledPage=null,this.__mouseOverShowDelay=300,this.__mouseOverShowTimeout=0,this.__lock=!1,this.__lockTimeStamp=0,this.__lastEvent={timestamp:0,type:"",element:void 0,dataId:null,elementId:null},this.__onResolverForMenuSourceDataCallback=data=>{!1===this.__isAttached&&this.__suspendObjectResolver("menuSourceData"),data.error===TcHmi.Errors.NONE?tchmi_equal(data.value,this.__menuSourceData)||(this.__menuSourceData=data.value,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"MenuSourceData"}),this.__processMenuSourceData()):TCHMI_CONSOLE_LOG_LEVEL>=1&&TcHmi.Log.errorEx("[Source=Control, Module="+this.__type+(__classPrivateFieldGet(TcHmiNavigationBar,_a,"f",_TcHmiNavigationBar_tchmiFQN)!==this.__type?", Origin="+__classPrivateFieldGet(TcHmiNavigationBar,_a,"f",_TcHmiNavigationBar_tchmiFQN):"")+", Id="+this.getId()+", Attribute=MenuSourceData] Resolving symbols from object failed with error: "+TcHmi.Log.buildMessage(data.details))},this.__onResolverForHighLightColorWatchCallback=data=>{!1===this.__isAttached&&this.__suspendObjectResolver("highLightColor"),data.error===TcHmi.Errors.NONE?tchmi_equal(data.value,this.__highlightColor)||(this.__highlightColor=data.value,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"HighLightColor"}),this.__processHighlightColor()):TCHMI_CONSOLE_LOG_LEVEL>=1&&TcHmi.Log.errorEx("[Source=Control, Module="+this.__type+(__classPrivateFieldGet(TcHmiNavigationBar,_a,"f",_TcHmiNavigationBar_tchmiFQN)!==this.__type?", Origin="+__classPrivateFieldGet(TcHmiNavigationBar,_a,"f",_TcHmiNavigationBar_tchmiFQN):"")+", Attribute=HighLightColor] Resolving symbols from object failed with error: "+TcHmi.Log.buildMessage(data.details))},this.__onResolverForFontColorWatchCallback=data=>{!1===this.__isAttached&&this.__suspendObjectResolver("fontColor"),data.error===TcHmi.Errors.NONE?tchmi_equal(data.value,this.__fontColor)||(this.__fontColor=data.value,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"FontColor"}),this.__processFontColor()):TCHMI_CONSOLE_LOG_LEVEL>=1&&TcHmi.Log.errorEx("[Source=Control, Module="+this.__type+(__classPrivateFieldGet(TcHmiNavigationBar,_a,"f",_TcHmiNavigationBar_tchmiFQN)!==this.__type?", Origin="+__classPrivateFieldGet(TcHmiNavigationBar,_a,"f",_TcHmiNavigationBar_tchmiFQN):"")+", Attribute=FontColor] Resolving symbols from object failed with error: "+TcHmi.Log.buildMessage(data.details))},this.__onResolverForTriangleColorWatchCallback=data=>{!1===this.__isAttached&&this.__suspendObjectResolver("triangleColor"),data.error===TcHmi.Errors.NONE?tchmi_equal(data.value,this.__triangleColor)||(this.__triangleColor=data.value,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"TriangleColor"}),this.__processTriangleColor()):TCHMI_CONSOLE_LOG_LEVEL>=1&&TcHmi.Log.errorEx("[Source=Control, Module="+this.__type+(__classPrivateFieldGet(TcHmiNavigationBar,_a,"f",_TcHmiNavigationBar_tchmiFQN)!==this.__type?", Origin="+__classPrivateFieldGet(TcHmiNavigationBar,_a,"f",_TcHmiNavigationBar_tchmiFQN):"")+", Attribute=TriangleColor] Resolving symbols from object failed with error: "+TcHmi.Log.buildMessage(data.details))},this.__windowResizeHandler=this.__onWindowResize()}__previnit(){if(this.__elementTemplateRoot=this.__element.find(".TcHmi_Controls_ResponsiveNavigation_TcHmiNavigationBar-Template"),this.__elementNavigationLine=this.__elementTemplateRoot.find(".tchmi-nav-bar-main-container"),!this.__elementTemplateRoot||!this.__elementNavigationLine)throw new Error("Invalid Template.html");super.__previnit()}__init(){super.__init()}__attach(){super.__attach(),this.__createNavigationLine(),this.__processListenToWindowResize(),this.__targetRegionControl&&!this.__regionChangeEvent&&(this.__regionChangeEvent=TcHmi.EventProvider.register(this.__targetRegionControl.getId()+".onTargetContentReplaced",this.__onRegionContentChanged()))}__detach(){super.__detach(),this.__listenToWindowResize&&window.removeEventListener("resize",this.__windowResizeHandler),this.__destroyOnResizedListener&&this.__destroyOnResizedListener()}destroy(){this.__keepAlive||(super.destroy(),this.__regionChangeEvent&&(this.__regionChangeEvent(),this.__regionChangeEvent=null),this.__navContentControlSymbolDestroyWatch&&(this.__navContentControlSymbolDestroyWatch(),this.__navContentControlSymbolDestroyWatch=null),this.__breadCrumbControlSymbolDestroyWatch&&(this.__breadCrumbControlSymbolDestroyWatch(),this.__breadCrumbControlSymbolDestroyWatch=null),this.__targetRegionControlSymbolDestroyWatch&&(this.__targetRegionControlSymbolDestroyWatch(),this.__targetRegionControlSymbolDestroyWatch=null),this.__navContentControlSymbol&&(this.__navContentControlSymbol.destroy(),this.__navContentControlSymbol=null),this.__breadCrumbControlSymbol&&(this.__breadCrumbControlSymbol.destroy(),this.__breadCrumbControlSymbol=null),this.__targetRegionControlSymbol&&(this.__targetRegionControlSymbol.destroy(),this.__targetRegionControlSymbol=null))}__onWindowResize(){return()=>{this.__checkBrowserSwitch()}}getAccessConfig(){const currentAccessConfig=super.getAccessConfig();return this.__getSubRights(this.__menuSourceData,currentAccessConfig)}getDescriptionAccessByName(){return{defaultValueInternal:!0}}__getSubRights(dataObject,accessList){var _b,_c;if(!dataObject)return accessList;for(let i=0;i<dataObject.length;i++)if(null===(_c=null===(_b=dataObject[i])||void 0===_b?void 0:_b.accessRight)||void 0===_c?void 0:_c.length)for(let j=0;j<dataObject[i].accessRight.length;j++)if(dataObject[i].accessRight[j]){let curAccess={accessright:dataObject[i].id+":"+dataObject[i].accessRight[j].accessright,group:dataObject[i].accessRight[j].group,permission:dataObject[i].accessRight[j].permission};accessList.push(curAccess)}return accessList}__generateItemIds(curPath,dataObject){if(null==dataObject)return null;let curID="";for(let i=0;i<dataObject.length;i++)curID=null==curPath?i.toString():curPath+":"+i,dataObject[i]&&(dataObject[i].id=curID,dataObject[i].children&&(dataObject[i].children=this.__generateItemIds(curID,dataObject[i].children)));return dataObject}raiseOnPageCalled(eventName,dataId,page){eventName?this.__setLastEventParameter(eventName):this.__setLastEventParameter("PARAMETER_NOT_SET"),TcHmi.EventProvider.raise(this.getId()+".onPageCalled",{parameter:eventName,page:page}),page?(this.__setLastPage(page),this.__targetRegionControl&&this.__targetRegionControl.setTargetContent(page)):this.__setLastPage("PAGE_NOT_SET");let breadCrumb=TcHmi.Controls.get(this.__breadCrumbControlId);if(page&&breadCrumb)if(breadCrumb.setMasterID(this.getId()),dataId){this.__lastEvent.dataId=dataId;let pathObject=this.__generatePathObject(dataId);breadCrumb.setPath(pathObject)}else breadCrumb.clearDisplay(),this.__lastEvent.dataId=null}raiseOnMenuClosed(){TcHmi.EventProvider.raise(this.getId()+".onMenuClosed")}setLastHeadId(id){this.__lastEvent.elementId=id}__generatePathObject(dataId){let pathArr=dataId.split(":");if(0===pathArr.length)return null;let pathObj=[],lastElement=this.__menuSourceData,curDataPath=pathArr[0],clickableState=!1;if((this.__menuSourceData[pathArr[0]].page||this.__menuSourceData[pathArr[0]].parameter)&&(clickableState=!0),pathObj.push({name:this.__menuSourceData[pathArr[0]].name,event:this.__menuSourceData[pathArr[0]].parameter,page:this.__menuSourceData[pathArr[0]].page,data:curDataPath,clickable:clickableState}),pathArr.length>2){this.__menuSourceData[pathArr[0]].children[pathArr[1]].showColumnName&&(curDataPath+=":"+pathArr[1],pathObj.push({name:this.__menuSourceData[pathArr[0]].children[pathArr[1]].name,event:"",clickable:!1})),lastElement=this.__menuSourceData[pathArr[0]].children[pathArr[1]];for(let i=2;i<pathArr.length;i++)lastElement=lastElement.children[pathArr[i]],curDataPath+=":"+pathArr[i],pathObj.push({name:lastElement.name,event:lastElement.parameter,page:lastElement.page,data:curDataPath,clickable:!0})}return pathObj}__loadNavContent(curHeadIndex){this.__navContentControl&&this.__navContentControl.loadContentView(curHeadIndex,this.__isMobileView(),this.__enableMobileSwitch,this.__alignment)}closeMenu(){var _b;this.__menuOpen=!1,this.__hideNavContent(),this.__elementNavigationLine&&(null===(_b=this.__elementNavigationLine[0].querySelector("[data-id='"+this.__lastEvent.elementId+"']"))||void 0===_b||_b.classList.remove("is-open"),this.__elementNavigationLine[0].querySelectorAll(".tchmi-nav-bar-triangle").forEach(element=>{element.remove()}))}__hideNavContent(){this.__navContentControl&&this.__navContentControl.hideNavContent()}__getTriangleElement(){let color=this.__getColorOfColorObject(this.__triangleColor);if(this.__myTriangle)this.__myTriangle[0].style.borderBottomColor=null!=color?color:"";else{let triangle=document.createElement("a");triangle.classList.add("tchmi-nav-bar-triangle"),triangle.style.borderBottomColor=null!=color?color:"",this.__myTriangle=$(triangle)}return"Bottom"===this.__alignment&&("Bottom"===this.__alignment?(this.__myTriangle[0].style.transform="rotate(180deg)",this.__myTriangle[0].style.top="0px"):(this.__myTriangle[0].style.transform="rotate(0deg)",this.__myTriangle[0].style.bottom="-1px")),this.__isMobileView()?this.__myTriangle[0].style.marginLeft="-4px":this.__myTriangle[0].style.marginLeft="-10px",this.__myTriangle}__getColorOfColorObject(colorObject){return colorObject&&null!==colorObject.color&&void 0!==colorObject.color?"None"===colorObject.color?"rgba(0,0,0,0)":TcHmi.ValueConverter.toString(colorObject.color):null}__clearHeadline(){if(this.__elementNavigationLine){let subContainer=this.__elementNavigationLine[0].getElementsByClassName("tchmi-nav-bar-sub-container")[0];subContainer&&subContainer.remove();let mobileContainer=this.__elementNavigationLine[0].getElementsByClassName("tchmi-nav-bar-mobile-container")[0];mobileContainer&&mobileContainer.remove()}}__isMobileView(){let w;if(TCHMI_DESIGNER){let topmostParent=this;for(;topmostParent&&topmostParent.getParent();)topmostParent=topmostParent.getParent();topmostParent&&(w=topmostParent.getRenderedWidth())}else w=document.body.clientWidth;let sbp=this.__switchBreakpoint;return null!=w&&null!=sbp&&w<sbp?(this.__setDesktopView(!1),!0):(this.__setDesktopView(!0),!1)}__checkBrowserSwitch(){var _b;if(!1===this.__isAttached)return;if(0===this.getRenderedHeight())return;if(0===this.getRenderedWidth())return;let isMobileView=this.__isMobileView();if((this.__mobileMode&&!isMobileView||isMobileView&&!this.__mobileMode||null===this.__mobileMode)&&(this.__mobileMode=isMobileView,TcHmi.EventProvider.raise(this.getId()+".onViewSwitched"),this.__createNavigationLine(),this.__menuOpen)){if(null===this.__lastEvent.elementId)return this.__menuOpen=!1,this.__hideNavContent(),void TcHmi.EventProvider.raise(this.getId()+".onMenuClosed");this.__mobileMode&&this.__enableMobileSwitch?this.__elementNavigationLine&&(null===(_b=this.__elementNavigationLine[0].querySelector(".tchmi-nav-bar-mobile-container-menu"))||void 0===_b||_b.append(this.__getTriangleElement()[0])):this.__elementNavigationLine&&(this.__lastEvent.element=this.__elementNavigationLine[0].querySelector("[data-id='"+this.__lastEvent.elementId+"']"),this.__lastEvent.element&&(this.__lastEvent.element.classList.add("is-open"),this.__lastEvent.element.children[0].append(this.__getTriangleElement()[0]))),this.__loadNavContent(this.__lastEvent.elementId)}}__createNavigationLine(){if(null===this.__menuSourceData||void 0===this.__menuSourceData)return;if(0===this.__menuSourceData.length)return;let breadCrumb=TcHmi.Controls.get(this.__breadCrumbControlId);if(breadCrumb)if(breadCrumb.setMasterID(this.getId()),this.__lastEvent.dataId){let pathObject=this.__generatePathObject(this.__lastEvent.dataId);breadCrumb.setPath(pathObject)}else breadCrumb.clearDisplay();if(this.__clearHeadline(),this.__isMobileView()&&this.__enableMobileSwitch){let mobileContainer=document.createElement("div");mobileContainer.classList.add("tchmi-nav-bar-mobile-container");let menuHeader=document.createElement("a");menuHeader.classList.add("tchmi-nav-bar-mobile-container-menu");let burgerImg=document.createElement("div");if(burgerImg.classList.add("tchmi-nav-bar-mobile-container-menu-burger"),0===this.__mobileIconWidth||0===this.__mobileIconHeight){this.__mobileMenuImage&&(burgerImg.style.backgroundImage="url("+this.__mobileMenuImage+")");let navLineHeight=this.__element.height();if(null!=navLineHeight){let navLineMobileIconSize=navLineHeight-16;burgerImg.style.width=navLineMobileIconSize+"px",burgerImg.style.height=navLineMobileIconSize+"px"}}else this.__mobileMenuImage&&(burgerImg.style.backgroundImage="url("+this.__mobileMenuImage+")"),void 0!==this.__mobileIconWidth&&null!==this.__mobileIconWidth&&(void 0!==this.__mobileIconWidthUnit&&null!==this.__mobileIconWidthUnit?burgerImg.style.width=this.__mobileIconWidth+this.__mobileIconWidthUnit:burgerImg.style.width=this.__mobileIconWidth+"px"),void 0!==this.__mobileIconHeight&&null!==this.__mobileIconHeight&&(void 0!==this.__mobileIconHeightUnit&&null!==this.__mobileIconHeightUnit?burgerImg.style.height=this.__mobileIconHeight+this.__mobileIconHeightUnit:burgerImg.style.height=this.__mobileIconHeight+"px");menuHeader.append(burgerImg);let menuHeaderEvent=e=>{if(this.getIsEnabled()&&!0===TcHmi.Access.checkAccess(this,"operate")){if("mouseleave"===e.type)return clearTimeout(this.__mouseOverShowTimeout),void(this.__mouseOverShowTimeout=0);if(this.__lock&&this.__lockTimeStamp<e.timeStamp-1e3&&(this.__lock=!1),!this.__lock){if("touchend"===e.type&&(this.__lock=!0,this.__lockTimeStamp=e.timeStamp-500),this.__menuOpen&&"mouseover"!==e.type){this.__menuOpen=!1,this.__hideNavContent();let triangle=menuHeader.getElementsByClassName("tchmi-nav-bar-triangle")[0];triangle&&triangle.remove(),TcHmi.EventProvider.raise(this.getId()+".onMenuClosed")}else{this.__lock=!0,this.__lockTimeStamp=e.timeStamp;let openMenu=()=>{this.__menuOpen=!0,this.__loadNavContent(),menuHeader.append(this.__getTriangleElement()[0]),TcHmi.EventProvider.raise(this.getId()+".onMenuOpened"),this.__lock=!0,this.__lockTimeStamp=e.timeStamp};"mouseover"===e.type?(clearTimeout(this.__mouseOverShowTimeout),this.__mouseOverShowTimeout=setTimeout(openMenu,this.__mouseOverShowDelay)):openMenu()}this.__lastEvent.elementId=void 0}}},menuEvents=this.__showMenuEvents.split(" ");for(let i=0;i<menuEvents.length;i++)switch(menuEvents[i]){case"click":menuHeader.onclick=menuHeaderEvent;break;case"mouseover":menuHeader.onmouseover=menuHeaderEvent;break;case"mouseleave":menuHeader.onmouseleave=menuHeaderEvent;break;case"touchend":menuHeader.ontouchend=menuHeaderEvent}mobileContainer.append(menuHeader),this.__elementNavigationLine&&this.__elementNavigationLine.append(mobileContainer)}else{void 0!==this.__paddingLeftRight&&null!==this.__paddingLeftRight&&void 0!==this.__paddingLeftRightUnit&&null!==this.__paddingLeftRightUnit&&(this.__headlineContainer=$(document.createElement("div")),this.__headlineContainer[0].classList.add("tchmi-nav-bar-sub-container"),this.__headlineContainer[0].style.paddingLeft=this.__paddingLeftRight+this.__paddingLeftRightUnit,this.__headlineContainer[0].style.paddingRight=this.__paddingLeftRight+this.__paddingLeftRightUnit),this.__curHeadlineList=$(document.createElement("ul")),this.__curHeadlineList[0].classList.add("tchmi-nav-bar-list");for(let i=0;i<this.__menuSourceData.length;i++)if(this.__menuSourceData[i]){let observeRightId=this.__menuSourceData[i].id+":observe",operateRightId=this.__menuSourceData[i].id+":operate",observeAccess=TcHmi.Access.checkAccess(this,observeRightId),operateAccess=TcHmi.Access.checkAccess(this,operateRightId);if(!1===observeAccess)continue;let listItem=document.createElement("li");listItem.classList.add("has-dropdown");let headText=document.createElement("a"),color=this.__getColorOfColorObject(this.__fontColor);if(void 0!==this.__fontSize&&null!==this.__fontSize&&void 0!==this.__fontSizeUnit&&null!==this.__fontSizeUnit&&(headText.style.color=null!=color?color:"",headText.style.fontSize=this.__fontSize+this.__fontSizeUnit),this.__isNotEmpty(this.__menuSourceData[i].image)){let imgContainer=document.createElement("a");imgContainer.classList.add("tchmi-nav-bar-nav-content-image-container");let img=document.createElement("img");if(img.classList.add("tchmi-nav-bar-image"),img.src=this.__menuSourceData[i].image,this.__isNotEmpty(this.__menuSourceData[i].name)||(img.style.marginRight="0px"),this.__isNotEmpty(this.__menuSourceData[i].imageWidth)&&this.__isNotEmpty(this.__menuSourceData[i].imageHeight)){let h=this.__element.height();void 0!==h&&this.__menuSourceData[i].imageHeight>h?(img.style.width=this.__menuSourceData[i].imageWidth+this.__menuSourceData[i].imageWidthUnit,img.style.height="100%"):(img.style.width=this.__menuSourceData[i].imageWidth+this.__menuSourceData[i].imageWidthUnit,img.style.height=this.__menuSourceData[i].imageHeight+this.__menuSourceData[i].imageHeightUnit)}imgContainer.append(img),listItem.append(imgContainer)}if(headText.append(this.__menuSourceData[i].name),void 0!==this.__menuSourceData[i].parameter&&null!==this.__menuSourceData[i].parameter&&listItem.setAttribute("data-event-parameter",this.__menuSourceData[i].parameter),void 0!==this.__menuSourceData[i].page&&null!==this.__menuSourceData[i].page&&listItem.setAttribute("data-event-page",this.__menuSourceData[i].page),listItem.setAttribute("data-id",this.__menuSourceData[i].id),!1===operateAccess&&(headText.classList.add("non-operate"),listItem.classList.add("non-operate")),headText.onmouseenter=()=>{this.__lock||(headText.classList.add("hover"),TcHmi.StyleProvider.processTextColor(headText,this.__highlightColor))},headText.onmouseleave=()=>{headText.classList.remove("hover"),TcHmi.StyleProvider.processTextColor(headText,this.__fontColor)},!1!==operateAccess){let menuEvent=evt=>{var _b,_c;if(!this.getIsEnabled())return;if(!0!==TcHmi.Access.checkAccess(this,"operate"))return;if("mouseleave"===evt.type)return clearTimeout(this.__mouseOverShowTimeout),this.__mouseOverShowTimeout=0,this.__curHeadElement=null,void(this.__lastEvent.elementId=null);if("touchend"===evt.type&&(this.__lock=!0,this.__lockTimeStamp=evt.timeStamp),this.__lock&&this.__lockTimeStamp<evt.timeStamp-2e3&&(this.__lock=!1),this.__lock&&("click"===evt.type||"mouseover"===evt.type))return;let dataId=listItem.getAttribute("data-id");if(this.__lastEvent.elementId!==dataId||"click"!==evt.type&&"touchend"!==evt.type||!("mouseover"===this.__lastEvent.type&&this.__lastEvent.timestamp+this.__mouseOverShowDelay+300>evt.timeStamp||this.__lastEvent.timestamp+this.__mouseOverShowDelay>evt.timeStamp)){if(this.__mouseOverShow&&(this.__lastEvent.elementId===dataId||this.__hasChildren(this.__menuSourceData,dataId))||null===(_b=this.__elementNavigationLine[0].querySelector(".tchmi-nav-bar-triangle"))||void 0===_b||_b.remove(),this.__menuOpen&&(!this.__mouseOverShow||this.__mouseOverShow&&"click"===evt.type||"touchend"===evt.type))("mouseover"!==this.__lastEvent.type||this.__lastEvent.timestamp+this.__mouseOverShowDelay<evt.timeStamp)&&(this.__lastEvent.elementId===dataId?(null===(_c=listItem.querySelector(".tchmi-nav-bar-triangle"))||void 0===_c||_c.remove(),this.__menuOpen=!1,listItem.classList.remove("is-open"),this.__hideNavContent(),"click"!==evt.type&&"touchend"!==evt.type||this.raiseOnPageCalled(listItem.getAttribute("data-event-parameter"),dataId,listItem.getAttribute("data-event-page")),TcHmi.EventProvider.raise(this.getId()+".onMenuClosed")):(this.__lastEvent.element&&this.__lastEvent.element.classList.remove("is-open"),this.__hasChildren(this.__menuSourceData,dataId)?(listItem.classList.add("is-open"),listItem.children[0].append(this.__getTriangleElement()[0]),this.__loadNavContent(dataId),"click"===evt.type&&this.raiseOnPageCalled(listItem.getAttribute("data-event-parameter"),dataId,listItem.getAttribute("data-event-page")),TcHmi.EventProvider.raise(this.getId()+".onMenuOpened")):("click"!==evt.type&&"touchend"!==evt.type||this.raiseOnPageCalled(listItem.getAttribute("data-event-parameter"),dataId,listItem.getAttribute("data-event-page")),this.__menuOpen=!1,this.__hideNavContent(),TcHmi.EventProvider.raise(this.getId()+".onMenuClosed"))));else if(!this.__menuOpen&&(null===this.__curHeadElement||this.__curHeadElement&&this.__lastEvent.element&&this.__curHeadElement!==this.__lastEvent.element||"click"===evt.type||"touchend"===evt.type)||!this.__mouseOverShow||this.__mouseOverShow&&this.__lastEvent.elementId!==dataId){if(this.__hasChildren(this.__menuSourceData,dataId)){let openMenu=()=>{var _b;this.__menuOpen=!0,listItem.classList.add("is-open"),null===(_b=this.__elementNavigationLine[0].querySelector(".tchmi-nav-bar-triangle"))||void 0===_b||_b.remove(),listItem.children[0].append(this.__getTriangleElement()[0]),this.__loadNavContent(dataId),TcHmi.EventProvider.raise(this.getId()+".onMenuOpened")};"mouseover"===evt.type?(clearTimeout(this.__mouseOverShowTimeout),this.__mouseOverShowTimeout=setTimeout(openMenu,this.__mouseOverShowDelay)):openMenu()}else this.__hideNavContent(),this.__menuOpen=!1,TcHmi.EventProvider.raise(this.getId()+".onMenuClosed"),"click"!==evt.type&&"touchend"!==evt.type||this.raiseOnPageCalled(listItem.getAttribute("data-event-parameter"),dataId,listItem.getAttribute("data-event-page"));this.__lastEvent.elementId!==dataId&&this.__lastEvent.element&&this.__lastEvent.element.classList.remove("is-open")}this.__lastEvent.elementId=dataId,this.__lastEvent.element=listItem,this.__lastEvent.timestamp=evt.timeStamp,this.__lastEvent.type=evt.type}},menuEvents=this.__showMenuEvents.split(" ");for(let i=0;i<menuEvents.length;i++)switch(menuEvents[i]){case"click":listItem.onclick=menuEvent;break;case"mouseover":listItem.onmouseover=menuEvent;break;case"mouseleave":listItem.onmouseleave=menuEvent;break;case"touchend":listItem.ontouchend=menuEvent}listItem.onmouseenter=()=>{this.__curHeadElement=listItem}}listItem.append(headText),this.__curHeadlineList.append(listItem)}this.__headlineContainer&&(this.__headlineContainer.append(this.__curHeadlineList),this.__elementNavigationLine&&this.__elementNavigationLine.append(this.__headlineContainer))}}__hasChildren(elementList,index){return void 0!==index&&(null!==elementList[index].children&&void 0!==elementList[index].children&&0!==elementList[index].children.length)}__isNotEmpty(element){return null!=element&&""!==element}__onRegionContentChanged(){return event=>{var _b;if(this.__lastCalledPage!==(null===(_b=this.__targetRegionControl)||void 0===_b?void 0:_b.getTargetContent())&&!this.__searchForActiveContent(this.__menuSourceData)){let breadCrumb=TcHmi.Controls.get(this.__breadCrumbControlId);breadCrumb&&(breadCrumb.setMasterID(this.getId()),breadCrumb.clearDisplay(),this.__lastEvent.dataId=null)}}}__searchForActiveContent(elementList){var _b;let regionContent=null===(_b=this.__targetRegionControl)||void 0===_b?void 0:_b.getTargetContent();if(!regionContent||!elementList)return!1;for(let element of elementList){if(void 0!==element.page&&null!==element.page&&element.page===regionContent&&void 0!==element.id&&null!==element.id){this.__setLastPage(element.page);let breadCrumb=TcHmi.Controls.get(this.__breadCrumbControlId);if(breadCrumb){breadCrumb.setMasterID(this.getId()),this.__lastEvent.dataId=element.id;let pathObject=this.__generatePathObject(element.id);breadCrumb.setPath(pathObject)}return!0}if(element.children&&Array.isArray(element.children)){if(this.__searchForActiveContent(element.children))return!0}}return!1}setMenuSourceData(valueNew){let convertedValue=TcHmi.ValueConverter.toObject(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("MenuSourceData")),this.__menuSourceDataRaw=convertedValue;let resolverInfo=this.__objectResolvers.get("menuSourceData");resolverInfo&&(resolverInfo.watchDestroyer&&resolverInfo.watchDestroyer(),resolverInfo.resolver.destroy());let resolver=new TcHmi.Symbol.ObjectResolver(convertedValue);this.__objectResolvers.set("menuSourceData",{resolver:resolver,watchCallback:this.__onResolverForMenuSourceDataCallback,watchDestroyer:resolver.watch(this.__onResolverForMenuSourceDataCallback)})}getMenuSourceData(){return this.__menuSourceData}getMenuSourceDataRaw(){return this.__menuSourceDataRaw}__processMenuSourceData(){this.__generateItemIds(null,this.__menuSourceData),this.__navContentControl&&this.__navContentControl.setMenuSourceData(this.__menuSourceData),!0===this.__isAttached&&this.__createNavigationLine()}setHighlightColor(valueNew){let convertedValue=TcHmi.ValueConverter.toObject(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("HighLightColor"));let resolverInfo=this.__objectResolvers.get("highLightColor");resolverInfo&&(resolverInfo.watchDestroyer&&resolverInfo.watchDestroyer(),resolverInfo.resolver.destroy());let resolver=new TcHmi.Symbol.ObjectResolver(convertedValue);this.__objectResolvers.set("highLightColor",{resolver:resolver,watchCallback:this.__onResolverForHighLightColorWatchCallback,watchDestroyer:resolver.watch(this.__onResolverForHighLightColorWatchCallback)})}getHighlightColor(){return this.__highlightColor}__processHighlightColor(){this.__elementNavigationLine&&(TcHmi.StyleProvider.processTextColor(this.__elementNavigationLine[0].querySelectorAll(".tchmi-nav-bar-list > li.has-dropdown.is-open"),this.__highlightColor),TcHmi.StyleProvider.processTextColor(this.__elementNavigationLine[0].querySelectorAll(".tchmi-nav-bar-list > li > a.hover"),this.__highlightColor),TcHmi.StyleProvider.processTextColor(this.__elementNavigationLine[0].querySelectorAll(".tchmi-nav-bar-list > li.has-dropdown.is-open > a"),this.__highlightColor),TcHmi.StyleProvider.processTextColor(this.__elementNavigationLine[0].querySelectorAll(".tchmi-nav-bar-list > li.has-dropdown"),this.__highlightColor))}setFontColor(valueNew){let convertedValue=TcHmi.ValueConverter.toObject(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("FontColor"));let resolverInfo=this.__objectResolvers.get("fontColor");resolverInfo&&(resolverInfo.watchDestroyer&&resolverInfo.watchDestroyer(),resolverInfo.resolver.destroy());let resolver=new TcHmi.Symbol.ObjectResolver(convertedValue);this.__objectResolvers.set("fontColor",{resolver:resolver,watchCallback:this.__onResolverForFontColorWatchCallback,watchDestroyer:resolver.watch(this.__onResolverForFontColorWatchCallback)})}getFontColor(){return this.__fontColor}__processFontColor(){this.__elementNavigationLine&&TcHmi.StyleProvider.processTextColor(this.__elementNavigationLine[0].querySelectorAll(".tchmi-nav-bar-list > li > a"),this.__fontColor)}setTriangleColor(valueNew){let convertedValue=TcHmi.ValueConverter.toObject(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("TriangleColor"));let resolverInfo=this.__objectResolvers.get("triangleColor");resolverInfo&&(resolverInfo.watchDestroyer&&resolverInfo.watchDestroyer(),resolverInfo.resolver.destroy());let resolver=new TcHmi.Symbol.ObjectResolver(convertedValue);this.__objectResolvers.set("triangleColor",{resolver:resolver,watchCallback:this.__onResolverForTriangleColorWatchCallback,watchDestroyer:resolver.watch(this.__onResolverForTriangleColorWatchCallback)})}getTriangleColor(){return this.__triangleColor}__processTriangleColor(){if(!this.__elementNavigationLine)return;let color=this.__getColorOfColorObject(this.__triangleColor);this.__elementNavigationLine[0].querySelectorAll(".tchmi-nav-bar-triangle").forEach(element=>{element.style.borderBottomColor=null!=color?color:""})}setFontSize(valueNew){let convertedValue=TcHmi.ValueConverter.toNumber(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("FontSize")),convertedValue!==this.__fontSize&&(this.__fontSize=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"FontSize"}),this.__processFontSize())}getFontSize(){return this.__fontSize}__processFontSize(){if(!this.__elementNavigationLine||void 0===this.__fontSize||null===this.__fontSize||void 0===this.__fontSizeUnit||null===this.__fontSizeUnit)return;let fontsize=this.__fontSize+this.__fontSizeUnit;this.__elementNavigationLine[0].querySelectorAll(".tchmi-nav-bar-list > li > a ").forEach(element=>{element.style.fontSize=fontsize})}setFontSizeUnit(valueNew){let convertedValue=TcHmi.ValueConverter.toString(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("FontSizeUnit")),convertedValue!==this.__fontSizeUnit&&(this.__fontSizeUnit=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"FontSizeUnit"}),this.__processFontSizeUnit())}getFontSizeUnit(){return this.__fontSizeUnit}__processFontSizeUnit(){if(!this.__elementNavigationLine||void 0===this.__fontSize||null===this.__fontSize||void 0===this.__fontSizeUnit||null===this.__fontSizeUnit)return;let fontsize=this.__fontSize+this.__fontSizeUnit;this.__elementNavigationLine[0].querySelectorAll(".tchmi-nav-bar-list > li > a ").forEach(element=>{element.style.fontSize=fontsize})}setPaddingLeftRight(valueNew){let convertedValue=TcHmi.ValueConverter.toNumber(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("PaddingLeftRight")),convertedValue!==this.__paddingLeftRight&&(this.__paddingLeftRight=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"PaddingLeftRight"}),this.__processPaddingLeftRight())}getPaddingLeftRight(){return this.__paddingLeftRight}__processPaddingLeftRight(){if(!this.__elementNavigationLine||void 0===this.__paddingLeftRight||null===this.__paddingLeftRight||void 0===this.__paddingLeftRightUnit||null===this.__paddingLeftRightUnit)return;let paddingLeft=this.__paddingLeftRight+this.__paddingLeftRightUnit,paddingRight=this.__paddingLeftRight+this.__paddingLeftRightUnit;this.__elementNavigationLine[0].querySelectorAll(".tchmi-nav-bar-sub-container").forEach(element=>{let htmlElement=element;htmlElement.style.paddingLeft=paddingLeft,htmlElement.style.paddingRight=paddingRight})}setPaddingLeftRightUnit(valueNew){let convertedValue=TcHmi.ValueConverter.toString(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("PaddingLeftRightUnit")),convertedValue!==this.__paddingLeftRightUnit&&(this.__paddingLeftRightUnit=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"PaddingLeftRightUnit"}),this.__processPaddingLeftRightUnit())}getPaddingLeftRightUnit(){return this.__paddingLeftRightUnit}__processPaddingLeftRightUnit(){if(!this.__elementNavigationLine||void 0===this.__paddingLeftRight||null===this.__paddingLeftRight||void 0===this.__paddingLeftRightUnit||null===this.__paddingLeftRightUnit)return;let paddingLeft=this.__paddingLeftRight+this.__paddingLeftRightUnit,paddingRight=this.__paddingLeftRight+this.__paddingLeftRightUnit;this.__elementNavigationLine[0].querySelectorAll(".tchmi-nav-bar-sub-container").forEach(element=>{let htmlElement=element;htmlElement.style.paddingLeft=paddingLeft,htmlElement.style.paddingRight=paddingRight})}setSwitchBreakpoint(valueNew){let convertedValue=TcHmi.ValueConverter.toNumber(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("SwitchBreakpoint")),convertedValue!==this.__switchBreakpoint&&(this.__switchBreakpoint=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"SwitchBreakpoint"}),this.__processSwitchBreakpoint())}getSwitchBreakpoint(){return this.__switchBreakpoint}__processSwitchBreakpoint(){this.__isAttached&&this.__checkBrowserSwitch()}setEnableMobileSwitch(valueNew){let convertedValue=TcHmi.ValueConverter.toBoolean(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("EnableMobileSwitch")),convertedValue!==this.__enableMobileSwitch&&(this.__enableMobileSwitch=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"EnableMobileSwitch"}),this.__processEnableMobileSwitch())}getEnableMobileSwitch(){return this.__enableMobileSwitch}__processEnableMobileSwitch(){!0===this.__isAttached&&this.__createNavigationLine()}setMobileMenuImage(valueNew){let convertedValue=TcHmi.ValueConverter.toString(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("MobileMenuImage")),convertedValue!==this.__mobileMenuImage&&(this.__mobileMenuImage=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"MobileMenuImage"}),this.__processMobileMenuImage())}getMobileMenuImage(){return this.__mobileMenuImage}__processMobileMenuImage(){this.__elementNavigationLine&&TcHmi.StyleProvider.setSimpleElementStyle(this.__elementNavigationLine[0].getElementsByClassName("tchmi-nav-bar-mobile-container-menu-burger"),"background-image",this.__mobileMenuImage?"url("+this.__mobileMenuImage+")":"")}setMobileIconWidth(valueNew){let convertedValue=TcHmi.ValueConverter.toNumber(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("MobileIconWidth")),convertedValue!==this.__mobileIconWidth&&(this.__mobileIconWidth=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"MobileIconWidth"}),this.__processMobileIconWidth())}getMobileIconWidth(){return this.__mobileIconWidth}__processMobileIconWidth(){var _b;if(!this.__desktopView){let burgerMenu=null===(_b=this.__elementNavigationLine)||void 0===_b?void 0:_b[0].getElementsByClassName("tchmi-nav-bar-mobile-container-menu-burger")[0];if(!burgerMenu||0!==this.__mobileIconWidth&&0!==this.__mobileIconHeight)burgerMenu&&this.__mobileIconWidth&&this.__mobileIconWidthUnit&&(burgerMenu.style.width=this.__mobileIconWidth+this.__mobileIconWidthUnit);else{let navLineHeight=this.__element.height();if(null!=navLineHeight){let navLineMobileIconSize=navLineHeight-16;burgerMenu.style.width=navLineMobileIconSize+"px",burgerMenu.style.height=navLineMobileIconSize+"px"}}}}setMobileIconWidthUnit(valueNew){let convertedValue=TcHmi.ValueConverter.toString(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("MobileIconWidthUnit")),convertedValue!==this.__mobileIconWidthUnit&&(this.__mobileIconWidthUnit=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"MobileIconWidthUnit"}),this.__processMobileIconWidthUnit())}getMobileIconWidthUnit(){return this.__mobileIconWidthUnit}__processMobileIconWidthUnit(){var _b;if(!this.__desktopView){let burgerMenu=null===(_b=this.__elementNavigationLine)||void 0===_b?void 0:_b[0].getElementsByClassName("tchmi-nav-bar-mobile-container-menu-burger")[0];if(!burgerMenu||0!==this.__mobileIconWidth&&0!==this.__mobileIconHeight)burgerMenu&&this.__mobileIconWidth&&this.__mobileIconWidthUnit&&(burgerMenu.style.width=this.__mobileIconWidth+this.__mobileIconWidthUnit);else{let navLineHeight=this.__element.height();if(null!=navLineHeight){let navLineMobileIconSize=navLineHeight-16;burgerMenu.style.width=navLineMobileIconSize+"px",burgerMenu.style.height=navLineMobileIconSize+"px"}}}}setMobileIconHeight(valueNew){let convertedValue=TcHmi.ValueConverter.toNumber(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("MobileIconHeight")),convertedValue!==this.__mobileIconHeight&&(this.__mobileIconHeight=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"MobileIconHeight"}),this.__processMobileIconHeigth())}getMobileIconHeight(){return this.__mobileIconHeight}__processMobileIconHeigth(){var _b;if(!this.__desktopView){let burgerMenu=null===(_b=this.__elementNavigationLine)||void 0===_b?void 0:_b[0].getElementsByClassName("tchmi-nav-bar-mobile-container-menu-burger")[0];if(!burgerMenu||0!==this.__mobileIconWidth&&0!==this.__mobileIconHeight)burgerMenu&&this.__mobileIconHeight&&this.__mobileIconHeightUnit&&(burgerMenu.style.width=this.__mobileIconHeight+this.__mobileIconHeightUnit);else{let navLineHeight=this.__element.height();if(null!=navLineHeight){let navLineMobileIconSize=navLineHeight-16;burgerMenu.style.width=navLineMobileIconSize+"px",burgerMenu.style.height=navLineMobileIconSize+"px"}}}}setMobileIconHeightUnit(valueNew){let convertedValue=TcHmi.ValueConverter.toString(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("MobileIconHeightUnit")),convertedValue!==this.__mobileIconHeightUnit&&(this.__mobileIconHeightUnit=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"MobileIconHeightUnit"}),this.__processMobileIconHeigthUnit())}getMobileIconHeightUnit(){return this.__mobileIconHeightUnit}__processMobileIconHeigthUnit(){var _b;if(!this.__desktopView){let burgerMenu=null===(_b=this.__elementNavigationLine)||void 0===_b?void 0:_b[0].getElementsByClassName("tchmi-nav-bar-mobile-container-menu-burger")[0];if(!burgerMenu||0!==this.__mobileIconWidth&&0!==this.__mobileIconHeight)burgerMenu&&this.__mobileIconHeight&&this.__mobileIconHeightUnit&&(burgerMenu.style.width=this.__mobileIconHeight+this.__mobileIconHeightUnit);else{let navLineHeight=this.__element.height();if(null!=navLineHeight){let navLineMobileIconSize=navLineHeight-16;burgerMenu.style.width=navLineMobileIconSize+"px",burgerMenu.style.height=navLineMobileIconSize+"px"}}}}__setDesktopView(valueNew){let convertedValue=TcHmi.ValueConverter.toBoolean(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("DesktopView")),convertedValue!==this.__desktopView&&(this.__desktopView=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"DesktopView"}))}getDesktopView(){return this.__desktopView}setNavContentControl(valueNew){let convertedValue=valueNew instanceof ResponsiveNavigation.TcHmiNavigationContent?valueNew:null;null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("NavContentControl")),convertedValue!==this.__navContentControl&&(this.__navContentControl=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"NavContentControl"}),this.__processNavContentControl())}getNavContentControl(){return this.__navContentControl}__processNavContentControl(){this.__navContentControl&&(this.__navContentControl.setMenuSourceData(this.__menuSourceData),this.__navContentControl.setMasterID(this.getId()),this.__navContentControl.setShowMenuEvents(this.__mouseOverShow,this.__showMenuEvents))}setBreadCrumbControl(valueNew){let convertedValue=TcHmi.ValueConverter.toString(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("BreadCrumbControl")),convertedValue!==this.__breadCrumbControlId&&(this.__breadCrumbControlId=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"BreadCrumbControl"}),this.__processBreadCrumbControl())}getBreadCrumbControl(){return this.__breadCrumbControlId}__processBreadCrumbControl(){}setNavContentControlSymbol(valueNew){let newSymbol=valueNew;if(null===newSymbol){let symbolExpression=this.getAttributeDefaultValueInternal("NavContentControlSymbol");symbolExpression&&(newSymbol=new TcHmi.Symbol(symbolExpression))}this.__navContentControlSymbol!==newSymbol&&(this.__navContentControlSymbolDestroyWatch&&(this.__navContentControlSymbolDestroyWatch(),this.__navContentControlSymbolDestroyWatch=null),newSymbol instanceof TcHmi.Symbol?(this.__navContentControlSymbol=newSymbol,this.__navContentControlSymbolDestroyWatch=this.__navContentControlSymbol.watch(this.__onNavContentControlSymbolWatch())):void 0===this.__navContentControlSymbol?this.__navContentControlSymbol=null:(this.__navContentControlSymbol=null,this.__processNavContentControlSymbol()),TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"NavContentControlSymbol"}))}getNavContentControlSymbol(){return this.__navContentControlSymbol}__processNavContentControlSymbol(ctrl){if(!this.__navContentControlSymbol)return this.__navContentControl=null,void TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"NavContentControl"});void 0===ctrl&&(ctrl=null),this.__navContentControl!==ctrl&&(TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"NavContentControl"}),this.__navContentControl=ctrl),this.__processNavContentControl()}__onNavContentControlSymbolWatch(){return data=>{data.error===TcHmi.Errors.NONE?this.__processNavContentControlSymbol(data.value):data.details&&data.error!==TcHmi.Errors.E_CONTROL_INSTANCE_NOT_FOUND&&TCHMI_CONSOLE_LOG_LEVEL>=1&&TcHmi.Log.errorEx("[Source=Control, Module="+this.__type+(__classPrivateFieldGet(TcHmiNavigationBar,_a,"f",_TcHmiNavigationBar_tchmiFQN)!==this.__type?", Origin="+__classPrivateFieldGet(TcHmiNavigationBar,_a,"f",_TcHmiNavigationBar_tchmiFQN):"")+", Attribute=NavContentControlSymbol, "+(this.__navContentControlSymbol?"Symbol="+this.__navContentControlSymbol.getExpression().toString():"")+"] "+TcHmi.Log.buildMessage(data.details))}}setBreadCrumbControlSymbol(valueNew){let newSymbol=valueNew;if(null===newSymbol){let symbolExpression=this.getAttributeDefaultValueInternal("BreadCrumbControlSymbol");symbolExpression&&(newSymbol=new TcHmi.Symbol(symbolExpression))}this.__breadCrumbControlSymbol!==newSymbol&&(this.__breadCrumbControlSymbolDestroyWatch&&(this.__breadCrumbControlSymbolDestroyWatch(),this.__breadCrumbControlSymbolDestroyWatch=null),newSymbol instanceof TcHmi.Symbol?(this.__breadCrumbControlSymbol=newSymbol,this.__breadCrumbControlSymbolDestroyWatch=this.__breadCrumbControlSymbol.watch(this.__onBreadCrumbControlSymbolWatch())):void 0===this.__breadCrumbControlSymbol?this.__breadCrumbControlSymbol=null:(this.__breadCrumbControlSymbol=null,this.__processBreadCrumbControlSymbol()),TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"BreadCrumbControlSymbol"}))}getBreadCrumbControlSymbol(){return this.__breadCrumbControlSymbol}__processBreadCrumbControlSymbol(ctrl){if(!this.__breadCrumbControlSymbol)return this.__breadCrumbControlId=null,void TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"BreadCrumbControl"});void 0===ctrl&&(ctrl=null),ctrl&&this.__breadCrumbControlId!==ctrl.getId()&&(this.__breadCrumbControlId=ctrl.getId(),TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"BreadCrumbControl"}))}__onBreadCrumbControlSymbolWatch(){return data=>{data.error===TcHmi.Errors.NONE?this.__processBreadCrumbControlSymbol(data.value):data.details&&data.error!==TcHmi.Errors.E_CONTROL_INSTANCE_NOT_FOUND&&TCHMI_CONSOLE_LOG_LEVEL>=1&&TcHmi.Log.errorEx("[Source=Control, Module="+this.__type+(__classPrivateFieldGet(TcHmiNavigationBar,_a,"f",_TcHmiNavigationBar_tchmiFQN)!==this.__type?", Origin="+__classPrivateFieldGet(TcHmiNavigationBar,_a,"f",_TcHmiNavigationBar_tchmiFQN):"")+", Attribute=BreadCrumbControlSymbol, "+(this.__breadCrumbControlSymbol?"Symbol="+this.__breadCrumbControlSymbol.getExpression().toString():"")+"] "+TcHmi.Log.buildMessage(data.details))}}setTargetRegionControl(valueNew){let convertedValue=valueNew instanceof TcHmi.Controls.System.TcHmiRegion?valueNew:null;null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("TargetRegionControl")),convertedValue!==this.__targetRegionControl&&(this.__targetRegionControl=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"TargetRegionControl"}))}getTargetRegionControl(){return this.__targetRegionControl}setTargetRegionControlSymbol(valueNew){let newSymbol=valueNew;if(null===newSymbol){let symbolExpression=this.getAttributeDefaultValueInternal("TargetRegionControlSymbol");symbolExpression&&(newSymbol=new TcHmi.Symbol(symbolExpression))}this.__targetRegionControlSymbol!==newSymbol&&(this.__targetRegionControlSymbolDestroyWatch&&(this.__targetRegionControlSymbolDestroyWatch(),this.__targetRegionControlSymbolDestroyWatch=null),newSymbol instanceof TcHmi.Symbol?(this.__targetRegionControlSymbol=newSymbol,this.__targetRegionControlSymbolDestroyWatch=this.__targetRegionControlSymbol.watch(this.__onTargetRegionControlSymbol())):void 0===this.__breadCrumbControlSymbol?this.__targetRegionControlSymbol=null:(this.__targetRegionControlSymbol=null,this.__processTargetRegionControlSymbol()),TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"TargetRegionControlSymbol"}))}getTargetRegionControlSymbol(){return this.__targetRegionControlSymbol}__processTargetRegionControlSymbol(ctrl){if(!this.__targetRegionControlSymbol)return this.__targetRegionControl=null,void TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"TargetRegionControl"});void 0===ctrl&&(ctrl=null),this.__targetRegionControl!==ctrl&&(this.__targetRegionControl=ctrl,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"TargetRegionControl"}),this.__targetRegionControl&&(this.__regionChangeEvent=TcHmi.EventProvider.register(this.__targetRegionControl.getId()+".onTargetContentReplaced",this.__onRegionContentChanged())))}__onTargetRegionControlSymbol(){return data=>{data.error===TcHmi.Errors.NONE?this.__processTargetRegionControlSymbol(data.value):data.details&&data.error!==TcHmi.Errors.E_CONTROL_INSTANCE_NOT_FOUND&&TCHMI_CONSOLE_LOG_LEVEL>=1&&TcHmi.Log.errorEx("[Source=Control, Module="+this.__type+(__classPrivateFieldGet(TcHmiNavigationBar,_a,"f",_TcHmiNavigationBar_tchmiFQN)!==this.__type?", Origin="+__classPrivateFieldGet(TcHmiNavigationBar,_a,"f",_TcHmiNavigationBar_tchmiFQN):"")+", Attribute=TargetRegionControlSymbol, "+(this.__targetRegionControlSymbol?"Symbol="+this.__targetRegionControlSymbol.getExpression().toString():"")+"] "+TcHmi.Log.buildMessage(data.details))}}setAlignment(valueNew){let convertedValue=TcHmi.ValueConverter.toString(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("Alignment")),convertedValue!==this.__alignment&&(this.__alignment=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"Alignment"}),this.__processAlignment())}getAlignment(){return this.__alignment}__processAlignment(){this.__isAttached&&this.__menuOpen&&(this.__myTriangle&&("Bottom"===this.__alignment?(this.__myTriangle[0].style.transform="rotate(180deg)",this.__myTriangle[0].style.top="0px"):(this.__myTriangle[0].style.transform="rotate(0deg)",this.__myTriangle[0].style.bottom="-1px")),this.__lastEvent.elementId&&this.__loadNavContent(this.__lastEvent.elementId))}__setLastEventParameter(valueNew){let convertedValue=TcHmi.ValueConverter.toString(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("LastEventParameter")),convertedValue!==this.__lastcalledParameter&&(this.__lastcalledParameter=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"LastEventParameter"}))}getLastEventParameter(){return this.__lastcalledParameter}__setLastPage(valueNew){let convertedValue=TcHmi.ValueConverter.toString(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("LastPage")),convertedValue!==this.__lastCalledPage&&(this.__lastCalledPage=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"LastPage"}))}getLastPage(){return this.__lastCalledPage}setListenToWindowResize(valueNew){let convertedValue=TcHmi.ValueConverter.toBoolean(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("ListenToWindowResize")),convertedValue!==this.__listenToWindowResize&&(this.__listenToWindowResize=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"ListenToWindowResize"}),this.__processListenToWindowResize())}getListenToWindowResize(){return this.__listenToWindowResize}__processListenToWindowResize(){this.__isAttached&&void 0!==this.__listenToWindowResize&&(this.__listenToWindowResize?(window.addEventListener("resize",this.__windowResizeHandler),this.__destroyOnResizedListener&&this.__destroyOnResizedListener()):(this.__destroyOnResizedListener=TcHmi.EventProvider.register(this.getId()+".onResized",()=>{this.__checkBrowserSwitch()}),window.removeEventListener("resize",this.__windowResizeHandler)))}setMouseOverShow(valueNew){let convertedValue=TcHmi.ValueConverter.toBoolean(valueNew);null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("MouseOverShow")),convertedValue!==this.__mouseOverShow&&(this.__mouseOverShow=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"MouseOverShow"}),this.__processMouseOverShow())}getMouseOverShow(){return this.__mouseOverShow}__processMouseOverShow(){this.__mouseOverShow?this.__showMenuEvents="click mouseover mouseleave touchstart touchmove touchend":this.__showMenuEvents="click touchstart touchmove touchend",this.__createNavigationLine(),this.__navContentControl&&this.__navContentControl.setShowMenuEvents(this.__mouseOverShow,this.__showMenuEvents)}}_TcHmiNavigationBar_tchmiFQN={value:"TcHmi.Controls.ResponsiveNavigation."+(_a=TcHmiNavigationBar).name},ResponsiveNavigation.TcHmiNavigationBar=TcHmiNavigationBar}(ResponsiveNavigation=Controls.ResponsiveNavigation||(Controls.ResponsiveNavigation={}))}(Controls=TcHmi.Controls||(TcHmi.Controls={}))}(TcHmi||(TcHmi={})),TcHmi.Controls.registerEx("TcHmiNavigationBar","TcHmi.Controls.ResponsiveNavigation",TcHmi.Controls.ResponsiveNavigation.TcHmiNavigationBar);