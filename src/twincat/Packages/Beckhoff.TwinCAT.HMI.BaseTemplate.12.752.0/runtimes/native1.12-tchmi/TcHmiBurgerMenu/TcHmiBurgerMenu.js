var TcHmi;!function(TcHmi){let Controls;!function(Controls){let BaseTemplate;!function(BaseTemplate){class TcHmiBurgerMenu extends TcHmi.Controls.Beckhoff.TcHmiToggleButton{constructor(element,pcElement,attrs){super(element,pcElement,attrs),this.__targetControlSave=null,this.__dropdownboxOpen=!1,this.__resizedEventDestroyEvent=null,this.__movedEventDestroyEvent=null,this.__onPressedDestroyEvent=null,this.__themeChangedDestroyFunction=null}__previnit(){if(this.__elementTemplateRoot=this.__element.find(".TcHmi_Controls_BaseTemplate_TcHmiBurgerMenu-Template"),!this.__elementTemplateRoot)throw new Error("Invalid Template.html");this.__targetControlContainer=document.createElement("div"),this.__targetControlContainer_2=document.createElement("div"),this.__targetControlContainer_2.classList.add("TcHmi_Controls_BaseTemplate_TcHmiBurgerMenu-container"),this.__targetControlContainer.appendChild(this.__targetControlContainer_2),super.__previnit()}__init(){super.__init()}__attach(){!this.__targetControl_Parent&&this.__targetControl&&this.__grabTargetControl(),this.__themeChangedDestroyFunction=TcHmi.EventProvider.register("onThemeDataChanged",this.__onThemeChanged()),this.__onPressedDestroyEvent=TcHmi.EventProvider.register(this.getId()+".onPressed",this.__onPressed()),super.__attach()}__detach(){super.__detach(),this.__dropdownboxOpen&&this.__setDropDownboxOpen(!1),this.__replaceTargetControl(),null!==this.__onPressedDestroyEvent&&(this.__onPressedDestroyEvent(),this.__onPressedDestroyEvent=null),this.__themeChangedDestroyFunction&&(this.__themeChangedDestroyFunction(),this.__themeChangedDestroyFunction=null)}destroy(){this.__keepAlive||super.destroy()}__onPressed(){return event=>{this.__setDropDownboxOpen()}}__setDropDownboxOpen(valueNew){var _b,_c,_d,_e,_f,_g;if(void 0===valueNew&&(valueNew=!this.__dropdownboxOpen),this.__targetControl)if(valueNew){this.__dropdownboxOpen=!0;let topMostLayerOptions={removeCb:data=>{this.__dropdownboxOpen=!1,data.canceled&&TcHmi.EventProvider.raise(this.__id+".onUserInteractionCanceled"),null!==this.__resizedEventDestroyEvent&&(this.__resizedEventDestroyEvent(),this.__resizedEventDestroyEvent=null),null!==this.__movedEventDestroyEvent&&(this.__movedEventDestroyEvent(),this.__movedEventDestroyEvent=null),this.__toggleLock=!1,this.__processState(!1,!0,"userInteraction")},dimBackground:!0,modal:!0};window.addEventListener("resize",this.__onWindowResize()),this.__targetControlContainer.appendChild(null===(_b=this.__targetControl)||void 0===_b?void 0:_b.getElement()[0]),TcHmi.TopMostLayer.add(this,$(this.__targetControlContainer),topMostLayerOptions),this.__setContainerSize(),null===(_d=null===(_c=this.__targetControl)||void 0===_c?void 0:_c.getElement())||void 0===_d||_d.addClass("burger-menu-content-in-topmostlayer")}else window.removeEventListener("resize",this.__onWindowResize()),null===(_f=null===(_e=this.__targetControl)||void 0===_e?void 0:_e.getElement())||void 0===_f||_f.removeClass("burger-menu-content-in-topmostlayer"),TcHmi.TopMostLayer.remove(this,$(this.__targetControlContainer)),this.__targetControlContainer.removeChild(null===(_g=this.__targetControl)||void 0===_g?void 0:_g.getElement()[0])}__grabTargetControl(){var _b;if(!TCHMI_DESIGNER&&this.__targetControl){let element=document.querySelector("#"+this.__targetControl.getId());if(element){let parent=element.parentNode;null==parent||parent.removeChild(element)}this.__targetControl_Parent=null===(_b=this.__targetControl.getParent())||void 0===_b?void 0:_b.getElement()}}__replaceTargetControl(){this.__targetControl_Parent&&this.__targetControl&&(this.__dropdownboxOpen&&TcHmi.TopMostLayer.remove(this,this.__targetControl.getElement()),this.__targetControl_Parent.append(this.__targetControl.getElement()),this.__targetControl_Parent=null)}__setContainerSize(){if(this.__targetControl){let controlBCR=this.__targetControl.getElement()[0].getBoundingClientRect(),width=controlBCR.width,height=controlBCR.height,top=controlBCR.top,bottom=controlBCR.bottom,left=controlBCR.left,right=controlBCR.right;this.__targetControlContainer_2.style.width=width+"px",this.__targetControlContainer_2.style.height=height+"px",this.__targetControlContainer_2.style.top=top+"px",this.__targetControlContainer_2.style.bottom=bottom+"px",this.__targetControlContainer_2.style.left=left+"px",this.__targetControlContainer_2.style.right=right+"px"}}__onThemeChanged(){let __this=this;return function(){__this.__targetControlSave&&__this.setTargetControl(__this.__targetControlSave)}}__onWindowResize(){let __this=this;return function(){__this.__setContainerSize()}}setTargetControl(valueNew){let convertedValue=valueNew;null===convertedValue&&(convertedValue=this.getAttributeDefaultValueInternal("TargetControl")),convertedValue!==this.__targetControl&&(this.__targetControl&&this.__replaceTargetControl(),this.__targetControl=convertedValue,TcHmi.EventProvider.raise(this.__id+".onPropertyChanged",{propertyName:"TargetControl"}),this.__processTargetControl())}getTargetControl(){return this.__targetControl}__processTargetControl(){var _b,_c;(null===(_c=null===(_b=this.__targetControl)||void 0===_b?void 0:_b.getElement())||void 0===_c?void 0:_c.parent())&&!this.__targetControl_Parent&&this.__isAttached&&this.__isEnabled&&this.__grabTargetControl()}}BaseTemplate.TcHmiBurgerMenu=TcHmiBurgerMenu}(BaseTemplate=Controls.BaseTemplate||(Controls.BaseTemplate={}))}(Controls=TcHmi.Controls||(TcHmi.Controls={}))}(TcHmi||(TcHmi={})),TcHmi.Controls.registerEx("TcHmiBurgerMenu","TcHmi.Controls.BaseTemplate",TcHmi.Controls.BaseTemplate.TcHmiBurgerMenu);